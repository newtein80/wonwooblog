<!DOCTYPE html>
<html lang="ko"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/main_layout}">

<th:block layout:fragment="html_head">
<title>Pace Loading</title>
</th:block>

<th:block layout:fragment="add_lib_css">
<!-- Pace style -->
<link rel="stylesheet" th:href="@{/plugins/pace/pace.min.css}">
</th:block>

<th:block layout:fragment="custom_css">
</th:block>

<th:block layout:fragment="content_body">
  <div class="wrapper">

    <!-- Header Bar -->
    <!-- Left side column. contains the logo and sidebar -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          Pace page
          <small>Loading example</small>
        </h1>
        <ol class="breadcrumb">
          <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
          <li><a href="#">Examples</a></li>
          <li class="active">Pace page</li>
        </ol>
      </section>

      <!-- Main content -->
      <section class="content">

        <!-- Default box -->
        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">Title</h3>

            <div class="box-tools pull-right">
              <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                title="Collapse">
                <i class="fa fa-minus"></i></button>
              <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
                <i class="fa fa-times"></i></button>
            </div>
          </div>
          <div class="box-body">
            Pace loading works automatically on page. You can still implement it with ajax requests by adding this js:
            <br /><code>$(document).ajaxStart(function() { Pace.restart(); });</code>
            <br />
            <div class="row">
              <div class="col-xs-12 text-center">
                <button type="button" class="btn btn-default btn-lrg ajax" title="Ajax Request">
                  <i class="fa fa-spin fa-refresh"></i>&nbsp; Get External Content
                </button>
              </div>
            </div>
            <div class="ajax-content">
            </div>
          </div>
          <!-- /.box-body -->
          <div class="box-footer">
            Footer
          </div>
          <!-- /.box-footer-->
        </div>
        <!-- /.box -->

      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <!-- Footer Bar -->
    <!-- Control Sidebar -->

    <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  </div>
  <!-- ./wrapper -->
</th:block>

<th:block layout:fragment="add_lib_js">
<!-- PACE -->
<script th:src="@{/bower_components/PACE/pace.min.js}"></script>
<!-- Slimscroll -->
<script th:src="@{/bower_components/jquery-slimscroll/jquery.slimscroll.min.js}"></script>
</th:block>

<th:block layout:fragment="custom_js">
  <script type="text/javascript" th:inline="javascript">
  /*<![CDATA[*/
  // To make Pace works on Ajax calls
  $(document).ajaxStart(function () {
    Pace.restart()
  })
  $('.ajax').click(function () {
    $.ajax({
      url: '#', success: function (result) {
        $('.ajax-content').html('<hr>Ajax Request Completed !')
      }
    })
  })
  /*]]>*/
  </script>
</th:block>

</html>